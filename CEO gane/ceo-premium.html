<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CEO Premium ‚Äî Strategic Command</title>
    <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@300;400;500;600;700&family=DM+Sans:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #fafbfc;
            --bg-secondary: #ffffff;
            --bg-tertiary: #f4f6f8;
            --bg-card: #ffffff;
            --text-primary: #0f172a;
            --text-secondary: #475569;
            --text-muted: #94a3b8;
            --border: #e2e8f0;
            --border-light: #f1f5f9;
            
            --accent-blue: #3b82f6;
            --accent-blue-light: #eff6ff;
            --accent-green: #10b981;
            --accent-green-light: #ecfdf5;
            --accent-red: #ef4444;
            --accent-red-light: #fef2f2;
            --accent-amber: #f59e0b;
            --accent-amber-light: #fffbeb;
            --accent-purple: #8b5cf6;
            --accent-purple-light: #f5f3ff;
            
            --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.04);
            --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 12px 40px rgba(0, 0, 0, 0.08);
            --shadow-glow: 0 0 40px rgba(59, 130, 246, 0.15);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Be Vietnam Pro', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Main Layout */
        .app-container {
            display: grid;
            grid-template-columns: 1fr 380px;
            min-height: 100vh;
        }

        /* Left Panel - Story */
        .story-panel {
            padding: 40px 50px;
            overflow-y: auto;
            max-height: 100vh;
        }

        /* Right Panel - Finance Dashboard */
        .finance-panel {
            background: var(--bg-secondary);
            border-left: 1px solid var(--border);
            padding: 30px;
            overflow-y: auto;
            max-height: 100vh;
            position: sticky;
            top: 0;
        }

        /* Header */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 40px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo-icon {
            width: 44px;
            height: 44px;
            background: linear-gradient(135deg, var(--accent-blue), #6366f1);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.4rem;
            box-shadow: var(--shadow-glow);
        }

        .logo-text {
            font-family: 'DM Sans', sans-serif;
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--text-primary);
        }

        .logo-badge {
            font-size: 0.65rem;
            padding: 4px 8px;
            background: var(--accent-blue-light);
            color: var(--accent-blue);
            border-radius: 6px;
            font-weight: 600;
            letter-spacing: 0.5px;
        }

        .header-time {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
            color: var(--text-muted);
        }

        /* Quarter Progress */
        .quarter-progress {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 30px;
            box-shadow: var(--shadow-sm);
        }

        .quarter-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }

        .quarter-title {
            font-weight: 600;
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .quarter-label {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.8rem;
            color: var(--accent-blue);
            font-weight: 600;
        }

        .quarter-bar {
            height: 8px;
            background: var(--bg-tertiary);
            border-radius: 4px;
            overflow: hidden;
        }

        .quarter-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-blue), var(--accent-purple));
            border-radius: 4px;
            transition: width 1s ease;
        }

        .quarter-weeks {
            display: flex;
            justify-content: space-between;
            margin-top: 12px;
        }

        .week-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: var(--border);
            transition: all 0.3s ease;
        }

        .week-dot.active {
            background: var(--accent-blue);
            box-shadow: 0 0 10px rgba(59, 130, 246, 0.4);
        }

        .week-dot.completed {
            background: var(--accent-green);
        }

        /* Scene Card */
        .scene-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: var(--shadow-md);
            margin-bottom: 30px;
            animation: scene-enter 0.6s ease;
        }

        @keyframes scene-enter {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Scene Visual */
        .scene-visual {
            height: 240px;
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 50%, #fef3c7 100%);
            position: relative;
            overflow: hidden;
        }

        .scene-visual svg {
            width: 100%;
            height: 100%;
        }

        .character-container {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            text-align: center;
            animation: character-float 3s ease-in-out infinite;
        }

        @keyframes character-float {
            0%, 100% { transform: translateX(-50%) translateY(0); }
            50% { transform: translateX(-50%) translateY(-8px); }
        }

        .character-avatar {
            width: 100px;
            height: 100px;
            background: var(--bg-card);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            box-shadow: var(--shadow-lg);
            margin: 0 auto 12px;
            border: 4px solid white;
        }

        .character-info {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 10px 20px;
            border-radius: 12px;
            box-shadow: var(--shadow-sm);
        }

        .character-name {
            font-weight: 700;
            font-size: 1rem;
            color: var(--text-primary);
        }

        .character-role {
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        /* Priority Tag */
        .priority-tag {
            position: absolute;
            top: 20px;
            left: 20px;
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 14px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 10px;
            box-shadow: var(--shadow-sm);
        }

        .priority-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            animation: pulse-dot 2s ease infinite;
        }

        .priority-dot.critical { background: var(--accent-red); }
        .priority-dot.high { background: var(--accent-amber); }
        .priority-dot.normal { background: var(--accent-blue); }

        @keyframes pulse-dot {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.6; transform: scale(1.2); }
        }

        .priority-text {
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .priority-text.critical { color: var(--accent-red); }
        .priority-text.high { color: var(--accent-amber); }
        .priority-text.normal { color: var(--accent-blue); }

        /* Scene Content */
        .scene-content {
            padding: 30px;
        }

        .scene-title {
            font-family: 'DM Sans', sans-serif;
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 16px;
            color: var(--text-primary);
        }

        .scene-description {
            font-size: 1.05rem;
            color: var(--text-secondary);
            line-height: 1.8;
            margin-bottom: 24px;
        }

        .scene-description .highlight {
            color: var(--accent-blue);
            font-weight: 600;
        }

        /* Dialogue */
        .dialogue-container {
            background: var(--bg-tertiary);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 24px;
        }

        .dialogue-speaker {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 12px;
        }

        .speaker-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: var(--accent-blue-light);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
        }

        .speaker-name {
            font-weight: 600;
            font-size: 0.9rem;
            color: var(--text-primary);
        }

        .dialogue-text {
            font-size: 1.1rem;
            color: var(--text-primary);
            line-height: 1.8;
            padding-left: 42px;
        }

        .dialogue-text .emphasis {
            font-weight: 700;
            color: var(--accent-blue);
        }

        /* Strategic Impact Preview */
        .impact-preview {
            background: linear-gradient(135deg, var(--accent-blue-light), var(--accent-purple-light));
            border-radius: 14px;
            padding: 20px;
            margin-bottom: 24px;
            border: 1px solid rgba(59, 130, 246, 0.2);
        }

        .impact-title {
            font-size: 0.8rem;
            font-weight: 600;
            color: var(--accent-blue);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 14px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .impact-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
        }

        .impact-item {
            text-align: center;
        }

        .impact-icon {
            font-size: 1.5rem;
            margin-bottom: 6px;
        }

        .impact-label {
            font-size: 0.75rem;
            color: var(--text-muted);
            margin-bottom: 4px;
        }

        .impact-value {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .impact-value.positive { color: var(--accent-green); }
        .impact-value.negative { color: var(--accent-red); }
        .impact-value.neutral { color: var(--accent-amber); }

        /* Decision Cards */
        .decisions-grid {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .decision-card {
            background: var(--bg-card);
            border: 2px solid var(--border);
            border-radius: 16px;
            padding: 24px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .decision-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            transition: width 0.3s ease;
        }

        .decision-card.conservative::before { background: var(--accent-blue); }
        .decision-card.aggressive::before { background: var(--accent-amber); }
        .decision-card.strategic::before { background: var(--accent-purple); }

        .decision-card:hover {
            transform: translateX(8px);
            box-shadow: var(--shadow-md);
        }

        .decision-card.conservative:hover { border-color: var(--accent-blue); }
        .decision-card.aggressive:hover { border-color: var(--accent-amber); }
        .decision-card.strategic:hover { border-color: var(--accent-purple); }

        .decision-header {
            display: flex;
            align-items: flex-start;
            gap: 16px;
            margin-bottom: 12px;
        }

        .decision-badge {
            width: 44px;
            height: 44px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.1rem;
            flex-shrink: 0;
        }

        .decision-card.conservative .decision-badge {
            background: var(--accent-blue-light);
            color: var(--accent-blue);
        }

        .decision-card.aggressive .decision-badge {
            background: var(--accent-amber-light);
            color: var(--accent-amber);
        }

        .decision-card.strategic .decision-badge {
            background: var(--accent-purple-light);
            color: var(--accent-purple);
        }

        .decision-info {
            flex: 1;
        }

        .decision-type {
            font-size: 0.7rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 4px;
        }

        .decision-card.conservative .decision-type { color: var(--accent-blue); }
        .decision-card.aggressive .decision-type { color: var(--accent-amber); }
        .decision-card.strategic .decision-type { color: var(--accent-purple); }

        .decision-title {
            font-weight: 700;
            font-size: 1.05rem;
            color: var(--text-primary);
            margin-bottom: 8px;
        }

        .decision-desc {
            font-size: 0.95rem;
            color: var(--text-secondary);
            line-height: 1.6;
        }

        .decision-metrics {
            display: flex;
            gap: 20px;
            margin-top: 16px;
            padding-top: 16px;
            border-top: 1px solid var(--border-light);
        }

        .metric-item {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 0.8rem;
        }

        .metric-icon {
            font-size: 1rem;
        }

        .metric-value {
            font-family: 'JetBrains Mono', monospace;
            font-weight: 600;
        }

        .metric-value.up { color: var(--accent-green); }
        .metric-value.down { color: var(--accent-red); }
        .metric-value.risk { color: var(--accent-amber); }

        /* ========== FINANCE PANEL ========== */
        
        .finance-header {
            margin-bottom: 24px;
        }

        .finance-title {
            font-family: 'DM Sans', sans-serif;
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 4px;
        }

        .finance-subtitle {
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        /* Stock Card */
        .stock-card {
            background: linear-gradient(135deg, #1e3a5f 0%, #0f172a 100%);
            border-radius: 20px;
            padding: 24px;
            margin-bottom: 20px;
            color: white;
            position: relative;
            overflow: hidden;
        }

        .stock-card::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, rgba(59, 130, 246, 0.2) 0%, transparent 70%);
            pointer-events: none;
        }

        .stock-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 20px;
            position: relative;
            z-index: 1;
        }

        .stock-symbol {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
            font-weight: 600;
            opacity: 0.8;
        }

        .stock-status {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 0.75rem;
            padding: 4px 10px;
            background: rgba(16, 185, 129, 0.2);
            border-radius: 6px;
            color: #34d399;
        }

        .stock-status.down {
            background: rgba(239, 68, 68, 0.2);
            color: #f87171;
        }

        .stock-status-dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: currentColor;
            animation: blink 1.5s ease infinite;
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.4; }
        }

        .stock-price-container {
            position: relative;
            z-index: 1;
        }

        .stock-price {
            font-family: 'JetBrains Mono', monospace;
            font-size: 2.4rem;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .stock-change {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .stock-change-value {
            font-family: 'JetBrains Mono', monospace;
            font-size: 1rem;
            font-weight: 600;
            padding: 4px 10px;
            border-radius: 6px;
            background: rgba(16, 185, 129, 0.2);
            color: #34d399;
        }

        .stock-change-value.down {
            background: rgba(239, 68, 68, 0.2);
            color: #f87171;
        }

        .stock-change-percent {
            font-size: 0.85rem;
            opacity: 0.7;
        }

        /* Mini Chart */
        .mini-chart {
            height: 60px;
            margin-top: 20px;
            position: relative;
            z-index: 1;
        }

        .chart-line {
            fill: none;
            stroke: url(#chartGradient);
            stroke-width: 2;
            stroke-linecap: round;
            stroke-linejoin: round;
        }

        .chart-area {
            fill: url(#areaGradient);
            opacity: 0.3;
        }

        /* Metrics Grid */
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 20px;
        }

        .metric-card {
            background: var(--bg-tertiary);
            border-radius: 14px;
            padding: 16px;
            transition: all 0.3s ease;
        }

        .metric-card:hover {
            background: var(--bg-card);
            box-shadow: var(--shadow-sm);
        }

        .metric-card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .metric-card-icon {
            font-size: 1.2rem;
        }

        .metric-card-trend {
            font-size: 0.7rem;
            font-weight: 600;
            padding: 3px 8px;
            border-radius: 4px;
        }

        .metric-card-trend.up {
            background: var(--accent-green-light);
            color: var(--accent-green);
        }

        .metric-card-trend.down {
            background: var(--accent-red-light);
            color: var(--accent-red);
        }

        .metric-card-value {
            font-family: 'JetBrains Mono', monospace;
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 4px;
        }

        .metric-card-label {
            font-size: 0.75rem;
            color: var(--text-muted);
        }

        /* KPI Section */
        .kpi-section {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .kpi-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }

        .kpi-title {
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .kpi-period {
            font-size: 0.7rem;
            color: var(--text-muted);
            padding: 4px 8px;
            background: var(--bg-tertiary);
            border-radius: 6px;
        }

        .kpi-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid var(--border-light);
        }

        .kpi-item:last-child {
            border-bottom: none;
            padding-bottom: 0;
        }

        .kpi-label {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .kpi-value {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .kpi-bar {
            height: 6px;
            background: var(--bg-tertiary);
            border-radius: 3px;
            margin-top: 6px;
            overflow: hidden;
        }

        .kpi-bar-fill {
            height: 100%;
            border-radius: 3px;
            transition: width 1s ease;
        }

        .kpi-bar-fill.healthy { background: linear-gradient(90deg, var(--accent-green), #34d399); }
        .kpi-bar-fill.warning { background: linear-gradient(90deg, var(--accent-amber), #fbbf24); }
        .kpi-bar-fill.critical { background: linear-gradient(90deg, var(--accent-red), #f87171); }

        /* Live Feed */
        .live-feed {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 20px;
        }

        .feed-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }

        .feed-title {
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .feed-live-dot {
            width: 8px;
            height: 8px;
            background: var(--accent-red);
            border-radius: 50%;
            animation: pulse-live 1.5s ease infinite;
        }

        @keyframes pulse-live {
            0%, 100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.4); }
            50% { box-shadow: 0 0 0 6px rgba(239, 68, 68, 0); }
        }

        .feed-item {
            display: flex;
            gap: 12px;
            padding: 12px 0;
            border-bottom: 1px solid var(--border-light);
            animation: feed-slide 0.4s ease;
        }

        @keyframes feed-slide {
            from { opacity: 0; transform: translateX(10px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .feed-item:last-child {
            border-bottom: none;
        }

        .feed-icon {
            width: 32px;
            height: 32px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
            flex-shrink: 0;
        }

        .feed-icon.alert { background: var(--accent-red-light); }
        .feed-icon.news { background: var(--accent-blue-light); }
        .feed-icon.market { background: var(--accent-green-light); }

        .feed-content {
            flex: 1;
        }

        .feed-text {
            font-size: 0.85rem;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        .feed-time {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.7rem;
            color: var(--text-muted);
            margin-top: 4px;
        }

        /* Result Modal */
        .result-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(15, 23, 42, 0.8);
            backdrop-filter: blur(8px);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .result-overlay.active {
            display: flex;
        }

        .result-modal {
            background: var(--bg-card);
            border-radius: 24px;
            padding: 50px;
            max-width: 500px;
            text-align: center;
            box-shadow: var(--shadow-lg);
            animation: modal-appear 0.4s ease;
        }

        @keyframes modal-appear {
            from { opacity: 0; transform: scale(0.95) translateY(20px); }
            to { opacity: 1; transform: scale(1) translateY(0); }
        }

        .result-icon {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            margin: 0 auto 24px;
        }

        .result-icon.success { background: var(--accent-green-light); }
        .result-icon.warning { background: var(--accent-amber-light); }
        .result-icon.danger { background: var(--accent-red-light); }

        .result-title {
            font-family: 'DM Sans', sans-serif;
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 16px;
            color: var(--text-primary);
        }

        .result-text {
            font-size: 1rem;
            color: var(--text-secondary);
            line-height: 1.8;
            margin-bottom: 24px;
        }

        .result-changes {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-bottom: 30px;
            padding: 20px;
            background: var(--bg-tertiary);
            border-radius: 14px;
        }

        .result-change {
            text-align: center;
        }

        .result-change-icon {
            font-size: 1.5rem;
            margin-bottom: 8px;
        }

        .result-change-value {
            font-family: 'JetBrains Mono', monospace;
            font-size: 1.1rem;
            font-weight: 700;
        }

        .result-change-value.positive { color: var(--accent-green); }
        .result-change-value.negative { color: var(--accent-red); }

        .result-change-label {
            font-size: 0.75rem;
            color: var(--text-muted);
            margin-top: 4px;
        }

        .result-btn {
            padding: 16px 40px;
            background: linear-gradient(135deg, var(--accent-blue), #6366f1);
            border: none;
            border-radius: 12px;
            color: white;
            font-family: 'Be Vietnam Pro', sans-serif;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: var(--shadow-glow);
        }

        .result-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 40px rgba(59, 130, 246, 0.4);
        }

        /* Auth Screen */
        .auth-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--bg-primary);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            transition: opacity 0.5s ease, visibility 0.5s ease;
        }

        .auth-overlay.hidden {
            opacity: 0;
            visibility: hidden;
        }

        .auth-card {
            background: var(--bg-card);
            border-radius: 24px;
            padding: 50px 60px;
            box-shadow: var(--shadow-lg);
            max-width: 480px;
            width: 100%;
            text-align: center;
        }

        .auth-logo {
            width: 70px;
            height: 70px;
            background: linear-gradient(135deg, var(--accent-blue), #6366f1);
            border-radius: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            margin: 0 auto 24px;
            box-shadow: var(--shadow-glow);
        }

        .auth-title {
            font-family: 'DM Sans', sans-serif;
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 8px;
            color: var(--text-primary);
        }

        .auth-subtitle {
            font-size: 1rem;
            color: var(--text-secondary);
            margin-bottom: 40px;
        }

        .auth-field {
            margin-bottom: 20px;
            text-align: left;
        }

        .auth-label {
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--text-secondary);
            margin-bottom: 8px;
            display: block;
        }

        .auth-input {
            width: 100%;
            padding: 16px 20px;
            border: 2px solid var(--border);
            border-radius: 12px;
            font-family: 'Be Vietnam Pro', sans-serif;
            font-size: 1rem;
            color: var(--text-primary);
            transition: all 0.3s ease;
            outline: none;
        }

        .auth-input:focus {
            border-color: var(--accent-blue);
            box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.1);
        }

        .auth-select {
            width: 100%;
            padding: 16px 20px;
            border: 2px solid var(--border);
            border-radius: 12px;
            font-family: 'Be Vietnam Pro', sans-serif;
            font-size: 1rem;
            color: var(--text-primary);
            background: var(--bg-card);
            cursor: pointer;
            outline: none;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%2394a3b8'%3E%3Cpath d='M7 10l5 5 5-5z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 16px center;
            background-size: 24px;
        }

        .auth-select:focus {
            border-color: var(--accent-blue);
        }

        .auth-btn {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, var(--accent-blue), #6366f1);
            border: none;
            border-radius: 14px;
            color: white;
            font-family: 'Be Vietnam Pro', sans-serif;
            font-size: 1.05rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
            box-shadow: var(--shadow-glow);
        }

        .auth-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 40px rgba(59, 130, 246, 0.4);
        }

        /* Hidden */
        .hidden { display: none !important; }

        /* Responsive */
        @media (max-width: 1200px) {
            .app-container {
                grid-template-columns: 1fr;
            }
            
            .finance-panel {
                display: none;
            }
        }
    </style>
</head>
<body>
    <!-- Auth Overlay -->
    <div class="auth-overlay" id="authOverlay">
        <div class="auth-card">
            <div class="auth-logo">üìä</div>
            <h1 class="auth-title">CEO Premium</h1>
            <p class="auth-subtitle">H·ªá th·ªëng m√¥ ph·ªèng qu·∫£n tr·ªã chi·∫øn l∆∞·ª£c</p>
            
            <div class="auth-field">
                <label class="auth-label">T√™n c√¥ng ty</label>
                <input type="text" class="auth-input" id="companyInput" placeholder="VD: Nexus Technologies">
            </div>
            
            <div class="auth-field">
                <label class="auth-label">Ng√†nh ngh·ªÅ</label>
                <select class="auth-select" id="industrySelect">
                    <option value="">Ch·ªçn ng√†nh ngh·ªÅ...</option>
                    <option value="tech">C√¥ng ngh·ªá & Ph·∫ßn m·ªÅm</option>
                    <option value="finance">T√†i ch√≠nh & Ng√¢n h√†ng</option>
                    <option value="manufacturing">S·∫£n xu·∫•t & C√¥ng nghi·ªáp</option>
                    <option value="retail">B√°n l·∫ª & Ti√™u d√πng</option>
                    <option value="healthcare">Y t·∫ø & D∆∞·ª£c ph·∫©m</option>
                </select>
            </div>
            
            <button class="auth-btn" id="startBtn" onclick="startGame()">
                B·∫Øt ƒë·∫ßu chi·∫øn d·ªãch ‚Üí
            </button>
        </div>
    </div>

    <!-- Main App -->
    <div class="app-container">
        <!-- Story Panel -->
        <div class="story-panel">
            <header class="header">
                <div class="logo">
                    <div class="logo-icon">üìä</div>
                    <div>
                        <div class="logo-text">CEO Premium</div>
                        <span class="logo-badge">STRATEGIC EDITION</span>
                    </div>
                </div>
                <div class="header-time" id="headerTime"></div>
            </header>

            <!-- Quarter Progress -->
            <div class="quarter-progress">
                <div class="quarter-header">
                    <span class="quarter-title">Ti·∫øn ƒë·ªô Qu√Ω</span>
                    <span class="quarter-label" id="quarterLabel">Q1 2025</span>
                </div>
                <div class="quarter-bar">
                    <div class="quarter-fill" id="quarterFill" style="width: 25%"></div>
                </div>
                <div class="quarter-weeks">
                    <div class="week-dot completed" id="week1"></div>
                    <div class="week-dot active" id="week2"></div>
                    <div class="week-dot" id="week3"></div>
                    <div class="week-dot" id="week4"></div>
                    <div class="week-dot" id="week5"></div>
                    <div class="week-dot" id="week6"></div>
                    <div class="week-dot" id="week7"></div>
                    <div class="week-dot" id="week8"></div>
                    <div class="week-dot" id="week9"></div>
                    <div class="week-dot" id="week10"></div>
                    <div class="week-dot" id="week11"></div>
                    <div class="week-dot" id="week12"></div>
                </div>
            </div>

            <!-- Scene Card -->
            <div class="scene-card" id="sceneCard">
                <!-- Dynamic content -->
            </div>
        </div>

        <!-- Finance Panel -->
        <div class="finance-panel">
            <div class="finance-header">
                <div class="finance-title" id="companyName">Nexus Technologies</div>
                <div class="finance-subtitle">Real-time Financial Dashboard</div>
            </div>

            <!-- Stock Card -->
            <div class="stock-card">
                <svg width="0" height="0">
                    <defs>
                        <linearGradient id="chartGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                            <stop offset="0%" style="stop-color:#34d399;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#60a5fa;stop-opacity:1" />
                        </linearGradient>
                        <linearGradient id="areaGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                            <stop offset="0%" style="stop-color:#34d399;stop-opacity:0.3" />
                            <stop offset="100%" style="stop-color:#34d399;stop-opacity:0" />
                        </linearGradient>
                    </defs>
                </svg>
                <div class="stock-header">
                    <div class="stock-symbol" id="stockSymbol">NXT</div>
                    <div class="stock-status" id="stockStatus">
                        <span class="stock-status-dot"></span>
                        LIVE
                    </div>
                </div>
                <div class="stock-price-container">
                    <div class="stock-price" id="stockPrice">$127.45</div>
                    <div class="stock-change">
                        <span class="stock-change-value" id="stockChangeValue">+$3.21</span>
                        <span class="stock-change-percent" id="stockChangePercent">(+2.58%)</span>
                    </div>
                </div>
                <div class="mini-chart">
                    <svg width="100%" height="100%" viewBox="0 0 320 60" preserveAspectRatio="none">
                        <path class="chart-area" id="chartArea"></path>
                        <path class="chart-line" id="chartLine"></path>
                    </svg>
                </div>
            </div>

            <!-- Metrics Grid -->
            <div class="metrics-grid">
                <div class="metric-card">
                    <div class="metric-card-header">
                        <span class="metric-card-icon">üí∞</span>
                        <span class="metric-card-trend up" id="revenueTrend">‚Üë 12%</span>
                    </div>
                    <div class="metric-card-value" id="revenueValue">$4.2B</div>
                    <div class="metric-card-label">Doanh thu Qu√Ω</div>
                </div>
                <div class="metric-card">
                    <div class="metric-card-header">
                        <span class="metric-card-icon">üìà</span>
                        <span class="metric-card-trend up" id="profitTrend">‚Üë 8%</span>
                    </div>
                    <div class="metric-card-value" id="profitValue">$890M</div>
                    <div class="metric-card-label">L·ª£i nhu·∫≠n r√≤ng</div>
                </div>
                <div class="metric-card">
                    <div class="metric-card-header">
                        <span class="metric-card-icon">üë•</span>
                        <span class="metric-card-trend down" id="headcountTrend">‚Üì 2%</span>
                    </div>
                    <div class="metric-card-value" id="headcountValue">84,200</div>
                    <div class="metric-card-label">Nh√¢n s·ª±</div>
                </div>
                <div class="metric-card">
                    <div class="metric-card-header">
                        <span class="metric-card-icon">üåç</span>
                        <span class="metric-card-trend up" id="marketTrend">‚Üë 3%</span>
                    </div>
                    <div class="metric-card-value" id="marketValue">23.4%</div>
                    <div class="metric-card-label">Th·ªã ph·∫ßn</div>
                </div>
            </div>

            <!-- KPI Section -->
            <div class="kpi-section">
                <div class="kpi-header">
                    <span class="kpi-title">Ch·ªâ s·ªë Hi·ªáu su·∫•t</span>
                    <span class="kpi-period">Qu√Ω n√†y</span>
                </div>
                <div class="kpi-item">
                    <span class="kpi-label">L√≤ng tin HƒêQT</span>
                    <span class="kpi-value" id="boardTrustValue">78%</span>
                </div>
                <div class="kpi-bar">
                    <div class="kpi-bar-fill healthy" id="boardTrustBar" style="width: 78%"></div>
                </div>
                <div class="kpi-item">
                    <span class="kpi-label">H√†i l√≤ng nh√¢n vi√™n</span>
                    <span class="kpi-value" id="employeeSatValue">72%</span>
                </div>
                <div class="kpi-bar">
                    <div class="kpi-bar-fill healthy" id="employeeSatBar" style="width: 72%"></div>
                </div>
                <div class="kpi-item">
                    <span class="kpi-label">Ch·ªâ s·ªë r·ªßi ro</span>
                    <span class="kpi-value" id="riskValue">28%</span>
                </div>
                <div class="kpi-bar">
                    <div class="kpi-bar-fill warning" id="riskBar" style="width: 28%"></div>
                </div>
            </div>

            <!-- Live Feed -->
            <div class="live-feed">
                <div class="feed-header">
                    <div class="feed-title">
                        <span class="feed-live-dot"></span>
                        Tin t·ª©c tr·ª±c ti·∫øp
                    </div>
                </div>
                <div id="feedContainer"></div>
            </div>
        </div>
    </div>

    <!-- Result Modal -->
    <div class="result-overlay" id="resultOverlay">
        <div class="result-modal">
            <div class="result-icon" id="resultIcon">‚ú®</div>
            <h3 class="result-title" id="resultTitle">K·∫øt qu·∫£</h3>
            <p class="result-text" id="resultText"></p>
            <div class="result-changes" id="resultChanges"></div>
            <button class="result-btn" onclick="continueGame()">Ti·∫øp t·ª•c ‚Üí</button>
        </div>
    </div>

    <script>
        // Game State
        const state = {
            company: 'Nexus Technologies',
            industry: 'tech',
            week: 1,
            quarter: 1,
            stockPrice: 127.45,
            stockHistory: [120, 118, 122, 125, 124, 127, 127.45],
            revenue: 4.2,
            profit: 0.89,
            headcount: 84200,
            marketShare: 23.4,
            boardTrust: 78,
            employeeSat: 72,
            risk: 28,
            currentScenario: 0
        };

        // Scenarios
        const scenarios = [
            {
                character: { name: 'Sarah Chen', role: 'CFO - Gi√°m ƒë·ªëc T√†i ch√≠nh', emoji: 'üë©‚Äçüíº' },
                priority: 'critical',
                title: 'Chi·∫øn l∆∞·ª£c T√°i c∆° c·∫•u T√†i ch√≠nh',
                description: `√Ånh n·∫Øng ban mai tr√†n qua t·∫•m k√≠nh l·ªõn. B·∫°n v·ª´a m·ªü laptop th√¨ <span class="highlight">Sarah b∆∞·ªõc v√†o</span>, tay c·∫ßm iPad v·ªõi bi·ªÉu ƒë·ªì m√†u ƒë·ªè chi·∫øm ph·∫ßn l·ªõn m√†n h√¨nh.`,
                dialogue: `CEO, ch√∫ng ta c√≥ v·∫•n ƒë·ªÅ. Chi ph√≠ v·∫≠n h√†nh ƒëang tƒÉng <span class="emphasis">18% so v·ªõi qu√Ω tr∆∞·ªõc</span> trong khi doanh thu ch·ªâ tƒÉng 12%. N·∫øu kh√¥ng h√†nh ƒë·ªông, margin s·∫Ω gi·∫£m xu·ªëng d∆∞·ªõi ng∆∞·ª°ng ch·∫•p nh·∫≠n c·ªßa HƒêQT. T√¥i c·∫ßn quy·∫øt ƒë·ªãnh c·ªßa ng√†i <span class="emphasis">trong h√¥m nay</span>.`,
                impact: [
                    { icon: 'üí∞', label: 'Margin', value: '-3.2%', class: 'negative' },
                    { icon: 'üìä', label: 'ROE', value: '~12.4%', class: 'neutral' },
                    { icon: '‚ö†Ô∏è', label: 'R·ªßi ro', value: 'Cao', class: 'negative' }
                ],
                decisions: [
                    {
                        type: 'conservative',
                        title: 'C·∫Øt gi·∫£m chi ph√≠ c√≥ ch·ªçn l·ªçc',
                        desc: 'Gi·∫£m 10% ng√¢n s√°ch marketing v√† t·∫°m d·ª´ng tuy·ªÉn d·ª•ng m·ªõi. An to√†n nh∆∞ng c√≥ th·ªÉ ·∫£nh h∆∞·ªüng tƒÉng tr∆∞·ªüng.',
                        metrics: [
                            { icon: 'üí∞', value: '+2.1%', label: 'Margin', class: 'up' },
                            { icon: 'üìà', value: '-4%', label: 'TƒÉng tr∆∞·ªüng', class: 'down' },
                            { icon: '‚ö°', value: 'Th·∫•p', label: 'R·ªßi ro', class: 'risk' }
                        ],
                        result: {
                            type: 'success',
                            title: 'Chi ph√≠ ƒë∆∞·ª£c ki·ªÉm so√°t',
                            text: 'Sarah g·∫≠t ƒë·∫ßu h√†i l√≤ng. "ƒê√¢y l√† quy·∫øt ƒë·ªãnh kh√¥n ngoan, CEO. Margin s·∫Ω c·∫£i thi·ªán trong 2 tu·∫ßn t·ªõi." M·ªôt s·ªë d·ª± √°n ph·∫£i ho√£n l·∫°i, nh∆∞ng t√†i ch√≠nh ·ªïn ƒë·ªãnh h∆°n.',
                            changes: [
                                { icon: 'üí∞', value: '+2.1%', label: 'Margin', positive: true },
                                { icon: 'üìà', value: '-4%', label: 'TƒÉng tr∆∞·ªüng', positive: false },
                                { icon: 'üèõÔ∏è', value: '+5%', label: 'HƒêQT Trust', positive: true }
                            ]
                        }
                    },
                    {
                        type: 'aggressive',
                        title: 'ƒê·∫ßu t∆∞ m·∫°nh ƒë·ªÉ tƒÉng doanh thu',
                        desc: 'TƒÉng g·∫•p ƒë√¥i ng√¢n s√°ch sales. Chi ph√≠ tƒÉng ng·∫Øn h·∫°n nh∆∞ng k·ª≥ v·ªçng doanh thu b√π ƒë·∫Øp.',
                        metrics: [
                            { icon: 'üí∞', value: '-5%', label: 'Cash', class: 'down' },
                            { icon: 'üìà', value: '+15%', label: 'Revenue (d·ª± ki·∫øn)', class: 'up' },
                            { icon: '‚ö°', value: 'Cao', label: 'R·ªßi ro', class: 'risk' }
                        ],
                        result: {
                            type: 'warning',
                            title: 'Canh b·∫°c l·ªõn ƒë√£ b·∫Øt ƒë·∫ßu',
                            text: 'Sarah h√≠t m·ªôt h∆°i s√¢u. "ƒê√¢y l√† n∆∞·ªõc ƒëi t√°o b·∫°o, CEO. T√¥i hy v·ªçng ng√†i ƒë√∫ng." ƒê·ªôi sales h√°o h·ª©c, nh∆∞ng √°p l·ª±c ƒë·∫°t target s·∫Ω r·∫•t l·ªõn.',
                            changes: [
                                { icon: 'üí∞', value: '-5%', label: 'Cash Flow', positive: false },
                                { icon: 'üéØ', value: '+25%', label: 'Sales Target', positive: true },
                                { icon: 'üò∞', value: '+15%', label: '√Åp l·ª±c team', positive: false }
                            ]
                        }
                    },
                    {
                        type: 'strategic',
                        title: 'T√°i c·∫•u tr√∫c b·ªô m√°y v·∫≠n h√†nh',
                        desc: 'S√°p nh·∫≠p 3 ph√≤ng ban, t·ª± ƒë·ªông h√≥a 40% quy tr√¨nh. Ti·∫øt ki·ªám d√†i h·∫°n nh∆∞ng bi·∫øn ƒë·ªông ng·∫Øn h·∫°n.',
                        metrics: [
                            { icon: 'üí∞', value: '+8%', label: 'Hi·ªáu su·∫•t (6 th√°ng)', class: 'up' },
                            { icon: 'üë•', value: '-12%', label: 'Nh√¢n s·ª±', class: 'down' },
                            { icon: '‚ö°', value: 'Trung b√¨nh', label: 'R·ªßi ro', class: 'risk' }
                        ],
                        result: {
                            type: 'success',
                            title: 'T√°i c·∫•u tr√∫c ƒë∆∞·ª£c ph√™ duy·ªát',
                            text: 'Sarah m·ªâm c∆∞·ªùi. "ƒê√¢y l√† t·∫ßm nh√¨n d√†i h·∫°n. HƒêQT s·∫Ω ·∫•n t∆∞·ª£ng." S·∫Ω c√≥ x√°o tr·ªôn trong 2 th√°ng t·ªõi, nh∆∞ng c√¥ng ty s·∫Ω m·∫°nh h∆°n.',
                            changes: [
                                { icon: 'üí∞', value: '+8%', label: 'Hi·ªáu su·∫•t (d·ª± ki·∫øn)', positive: true },
                                { icon: 'üë•', value: '-12%', label: 'Nh√¢n s·ª±', positive: false },
                                { icon: 'üèõÔ∏è', value: '+10%', label: 'HƒêQT Trust', positive: true }
                            ]
                        }
                    }
                ]
            },
            {
                character: { name: 'Mark Wong', role: 'CTO - Gi√°m ƒë·ªëc C√¥ng ngh·ªá', emoji: 'üë®‚Äçüíª' },
                priority: 'high',
                title: 'ƒê·∫ßu t∆∞ AI & T·ª± ƒë·ªông h√≥a',
                description: `Ph√≤ng h·ªçp s√°ng choang v·ªõi view th√†nh ph·ªë. <span class="highlight">Mark xu·∫•t hi·ªán</span> v·ªõi chi·∫øc laptop gaming quen thu·ªôc, m·∫Øt s√°ng r·ª±c v√¨ h√†o h·ª©ng.`,
                dialogue: `Boss, em c√≥ tin c·ª±c k·ª≥ quan tr·ªçng! M√¥ h√¨nh AI c·ªßa team v·ª´a ƒë·∫°t breakthrough ‚Äî n√≥ c√≥ th·ªÉ <span class="emphasis">t·ª± ƒë·ªông h√≥a 60% quy tr√¨nh v·∫≠n h√†nh</span>. Nh∆∞ng c·∫ßn $50M ƒë·∫ßu t∆∞ ƒë·ªÉ scale l√™n production. ƒê√¢y l√† c∆° h·ªôi <span class="emphasis">kh√¥ng th·ªÉ b·ªè l·ª°</span>.`,
                impact: [
                    { icon: 'üí∞', label: 'ƒê·∫ßu t∆∞', value: '$50M', class: 'negative' },
                    { icon: '‚ö°', label: 'Ti·∫øt ki·ªám/nƒÉm', value: '$120M', class: 'positive' },
                    { icon: 'üë•', label: '·∫¢nh h∆∞·ªüng', value: '~2,000 v·ªã tr√≠', class: 'neutral' }
                ],
                decisions: [
                    {
                        type: 'conservative',
                        title: 'Pilot nh·ªè tr∆∞·ªõc khi scale',
                        desc: 'Tri·ªÉn khai th·ª≠ nghi·ªám ·ªü 1 b·ªô ph·∫≠n v·ªõi $5M. ƒê√°nh gi√° 3 th√°ng r·ªìi quy·∫øt ƒë·ªãnh ti·∫øp.',
                        metrics: [
                            { icon: 'üí∞', value: '$5M', label: 'ƒê·∫ßu t∆∞', class: 'down' },
                            { icon: '‚è±Ô∏è', value: '+6 th√°ng', label: 'Timeline', class: 'risk' },
                            { icon: '‚ö°', value: 'Th·∫•p', label: 'R·ªßi ro', class: 'up' }
                        ],
                        result: {
                            type: 'success',
                            title: 'Pilot ƒë∆∞·ª£c ph√™ duy·ªát',
                            text: 'Mark h∆°i th·∫•t v·ªçng nh∆∞ng hi·ªÉu l√Ω do. "OK boss, em s·∫Ω ch·ª©ng minh n√≥ ho·∫°t ƒë·ªông." Team tech c√≥ ƒë·ªông l·ª±c, r·ªßi ro ƒë∆∞·ª£c ki·ªÉm so√°t.',
                            changes: [
                                { icon: 'üí∞', value: '-$5M', label: 'Ng√¢n s√°ch', positive: false },
                                { icon: 'üî¨', value: '+1', label: 'D·ª± √°n R&D', positive: true },
                                { icon: 'üòä', value: '·ªîn', label: 'Team morale', positive: true }
                            ]
                        }
                    },
                    {
                        type: 'aggressive',
                        title: 'All-in ƒë·∫ßu t∆∞ $50M',
                        desc: 'Ph√™ duy·ªát to√†n b·ªô ng√¢n s√°ch. Tri·ªÉn khai nhanh ƒë·ªÉ chi·∫øm l·ª£i th·∫ø c·∫°nh tranh.',
                        metrics: [
                            { icon: 'üí∞', value: '$50M', label: 'ƒê·∫ßu t∆∞', class: 'down' },
                            { icon: 'üìà', value: '+$120M/nƒÉm', label: 'Ti·∫øt ki·ªám', class: 'up' },
                            { icon: '‚ö°', value: 'R·∫•t cao', label: 'R·ªßi ro', class: 'risk' }
                        ],
                        result: {
                            type: 'warning',
                            title: 'D·ª± √°n ƒë∆∞·ª£c ph√™ duy·ªát',
                            text: 'Mark nh·∫£y c·∫´ng vui s∆∞·ªõng. "Boss l√† s·ªë 1!" ƒê√¢y l√† canh b·∫°c l·ªõn ‚Äî n·∫øu th√†nh c√¥ng, c√¥ng ty s·∫Ω d·∫´n ƒë·∫ßu. N·∫øu th·∫•t b·∫°i...',
                            changes: [
                                { icon: 'üí∞', value: '-$50M', label: 'Cash', positive: false },
                                { icon: 'üöÄ', value: 'Max', label: 'Innovation', positive: true },
                                { icon: '‚ö†Ô∏è', value: '+30%', label: 'R·ªßi ro', positive: false }
                            ]
                        }
                    },
                    {
                        type: 'strategic',
                        title: 'H·ª£p t√°c v·ªõi ƒë·ªëi th·ªß c·∫°nh tranh',
                        desc: 'ƒê·ªÅ xu·∫•t joint venture v·ªõi competitor ƒë·ªÉ chia s·∫ª chi ph√≠ v√† r·ªßi ro. S√°ng t·∫°o nh∆∞ng ph·ª©c t·∫°p.',
                        metrics: [
                            { icon: 'üí∞', value: '$25M', label: 'ƒê·∫ßu t∆∞', class: 'down' },
                            { icon: 'ü§ù', value: 'JV', label: 'Partnership', class: 'up' },
                            { icon: '‚ö°', value: 'Trung b√¨nh', label: 'R·ªßi ro', class: 'risk' }
                        ],
                        result: {
                            type: 'success',
                            title: 'ƒê√†m ph√°n s·∫Ω b·∫Øt ƒë·∫ßu',
                            text: 'Mark ng·∫°c nhi√™n v·ªõi √Ω t∆∞·ªüng. "Em ch∆∞a nghƒ© ƒë·∫øn ƒëi·ªÅu n√†y... th√∫ v·ªã ƒë·∫•y!" N·∫øu th√†nh c√¥ng, c·∫£ hai c√¥ng ty ƒë·ªÅu h∆∞·ªüng l·ª£i.',
                            changes: [
                                { icon: 'ü§ù', value: '+1', label: 'ƒê·ªëi t√°c chi·∫øn l∆∞·ª£c', positive: true },
                                { icon: 'üí∞', value: '-$25M', label: 'ƒê·∫ßu t∆∞', positive: false },
                                { icon: 'üåê', value: '+5%', label: 'Th·ªã ph·∫ßn (ti·ªÅm nƒÉng)', positive: true }
                            ]
                        }
                    }
                ]
            },
            {
                character: { name: 'Robert Nguy·ªÖn', role: 'Ch·ªß t·ªãch HƒêQT', emoji: 'üë¥' },
                priority: 'critical',
                title: 'ƒê√°nh gi√° Hi·ªáu su·∫•t CEO',
                description: `VƒÉn ph√≤ng c·ªßa √¥ng Robert ‚Äî ƒë·ªì g·ªó s·ªìi, √°nh n·∫Øng chi·ªÅu xuy√™n qua r√®m. <span class="highlight">√îng ƒëang ƒë·ª©ng b√™n c·ª≠a s·ªï</span>, ly whisky trong tay.`,
                dialogue: `Ng·ªìi xu·ªëng ƒëi, CEO. *quay l·∫°i* Ta ƒë√£ xem b√°o c√°o qu√Ω. C√≥ nh·ªØng quy·∫øt ƒë·ªãnh t√°o b·∫°o, c√≥ nh·ªØng quy·∫øt ƒë·ªãnh... <span class="emphasis">g√¢y tranh c√£i</span>. Ta mu·ªën bi·∫øt ‚Äî ng∆∞∆°i ƒë·ªãnh d·∫´n d·∫Øt c√¥ng ty n√†y ƒëi v·ªÅ ƒë√¢u trong 5 nƒÉm t·ªõi?`,
                impact: [
                    { icon: 'üèõÔ∏è', label: 'HƒêQT Trust', value: 'ƒêang ƒë√°nh gi√°', class: 'neutral' },
                    { icon: 'üìä', label: 'T∆∞∆°ng lai', value: 'Quy·∫øt ƒë·ªãnh', class: 'neutral' },
                    { icon: 'üë§', label: 'V·ªã tr√≠ CEO', value: 'Ph·ª• thu·ªôc', class: 'neutral' }
                ],
                decisions: [
                    {
                        type: 'conservative',
                        title: 'T·∫≠p trung v√†o ·ªïn ƒë·ªãnh & tƒÉng tr∆∞·ªüng b·ªÅn v·ªØng',
                        desc: '∆Øu ti√™n b·∫£o v·ªá market share, t·ªëi ∆∞u chi ph√≠, v√† tƒÉng tr∆∞·ªüng 8-10%/nƒÉm. An to√†n.',
                        metrics: [
                            { icon: 'üìà', value: '8-10%', label: 'TƒÉng tr∆∞·ªüng/nƒÉm', class: 'up' },
                            { icon: '‚ö°', value: 'Th·∫•p', label: 'R·ªßi ro', class: 'up' },
                            { icon: 'üî•', value: 'Trung b√¨nh', label: 'Tham v·ªçng', class: 'risk' }
                        ],
                        result: {
                            type: 'success',
                            title: '√îng Robert g·∫≠t ƒë·∫ßu ch·∫≠m r√£i',
                            text: '"·ªîn ƒë·ªãnh l√† t·ªët... nh∆∞ng trong th·∫ø gi·ªõi n√†y, ƒë·ª©ng y√™n nghƒ©a l√† l√πi l·∫°i." √îng tin t∆∞·ªüng b·∫°n, nh∆∞ng k·ª≥ v·ªçng s·∫Ω cao h∆°n trong qu√Ω t·ªõi.',
                            changes: [
                                { icon: 'üèõÔ∏è', value: '+8%', label: 'HƒêQT Trust', positive: true },
                                { icon: 'üéØ', value: '·ªîn ƒë·ªãnh', label: 'Chi·∫øn l∆∞·ª£c', positive: true },
                                { icon: '‚è±Ô∏è', value: '1 Qu√Ω', label: 'Deadline review', positive: false }
                            ]
                        }
                    },
                    {
                        type: 'aggressive',
                        title: 'M·ªü r·ªông to√†n c·∫ßu & M&A t√≠ch c·ª±c',
                        desc: 'Target 25% tƒÉng tr∆∞·ªüng th√¥ng qua mua l·∫°i ƒë·ªëi th·ªß v√† m·ªü r·ªông sang 5 th·ªã tr∆∞·ªùng m·ªõi.',
                        metrics: [
                            { icon: 'üìà', value: '25%+', label: 'TƒÉng tr∆∞·ªüng/nƒÉm', class: 'up' },
                            { icon: '‚ö°', value: 'R·∫•t cao', label: 'R·ªßi ro', class: 'down' },
                            { icon: 'üî•', value: 'Max', label: 'Tham v·ªçng', class: 'up' }
                        ],
                        result: {
                            type: 'warning',
                            title: '√îng Robert nh∆∞·ªõn m√†y',
                            text: '"T√°o b·∫°o... ta th√≠ch ƒëi·ªÅu ƒë√≥." √îng r√≥t th√™m whisky. "Nh∆∞ng n·∫øu th·∫•t b·∫°i, ng∆∞∆°i bi·∫øt h·∫≠u qu·∫£." ƒê√¢y l√† canh b·∫°c s·ª± nghi·ªáp.',
                            changes: [
                                { icon: 'üèõÔ∏è', value: '+3%', label: 'HƒêQT Trust', positive: true },
                                { icon: '‚ö†Ô∏è', value: '+40%', label: '√Åp l·ª±c', positive: false },
                                { icon: 'üéØ', value: '25%', label: 'Target growth', positive: true }
                            ]
                        }
                    },
                    {
                        type: 'strategic',
                        title: 'Pivot sang m√¥ h√¨nh kinh doanh m·ªõi',
                        desc: 'Chuy·ªÉn ƒë·ªïi t·ª´ s·∫£n ph·∫©m sang platform & subscription. Disruption t·ª´ b√™n trong.',
                        metrics: [
                            { icon: 'üí°', value: 'Platform', label: 'M√¥ h√¨nh m·ªõi', class: 'up' },
                            { icon: '‚è±Ô∏è', value: '2-3 nƒÉm', label: 'Timeline', class: 'risk' },
                            { icon: '‚ö°', value: 'Cao', label: 'R·ªßi ro', class: 'risk' }
                        ],
                        result: {
                            type: 'success',
                            title: '√îng Robert c∆∞·ªùi l·ªõn',
                            text: '"Ha! Ng∆∞∆°i c√≥ gan." √îng ƒë∆∞a ly whisky cho b·∫°n. "Ta ƒë√£ ch·ªù m·ªôt CEO d√°m nghƒ© kh√°c. H√£y ch·ª©ng minh ta ƒë√∫ng."',
                            changes: [
                                { icon: 'üèõÔ∏è', value: '+15%', label: 'HƒêQT Trust', positive: true },
                                { icon: 'üöÄ', value: 'Pivot', label: 'Chi·∫øn l∆∞·ª£c m·ªõi', positive: true },
                                { icon: 'üí∞', value: 'TBD', label: 'Budget s·∫Ω ƒë∆∞·ª£c c·∫•p', positive: true }
                            ]
                        }
                    }
                ]
            }
        ];

        // Initialize
        function init() {
            updateTime();
            setInterval(updateTime, 1000);
            setInterval(updateStockPrice, 3000);
            initChart();
            initFeed();
        }

        function updateTime() {
            const now = new Date();
            document.getElementById('headerTime').textContent = now.toLocaleString('vi-VN', {
                weekday: 'long',
                day: 'numeric',
                month: 'long',
                hour: '2-digit',
                minute: '2-digit'
            });
        }

        function updateStockPrice() {
            const change = (Math.random() - 0.48) * 2;
            state.stockPrice = Math.max(80, state.stockPrice + change);
            state.stockHistory.push(state.stockPrice);
            if (state.stockHistory.length > 20) state.stockHistory.shift();
            
            document.getElementById('stockPrice').textContent = `$${state.stockPrice.toFixed(2)}`;
            
            const dailyChange = state.stockPrice - state.stockHistory[0];
            const changeEl = document.getElementById('stockChangeValue');
            const percentEl = document.getElementById('stockChangePercent');
            
            if (dailyChange >= 0) {
                changeEl.textContent = `+$${dailyChange.toFixed(2)}`;
                changeEl.classList.remove('down');
                percentEl.textContent = `(+${((dailyChange / state.stockHistory[0]) * 100).toFixed(2)}%)`;
            } else {
                changeEl.textContent = `-$${Math.abs(dailyChange).toFixed(2)}`;
                changeEl.classList.add('down');
                percentEl.textContent = `(${((dailyChange / state.stockHistory[0]) * 100).toFixed(2)}%)`;
            }
            
            updateChart();
        }

        function initChart() {
            updateChart();
        }

        function updateChart() {
            const data = state.stockHistory;
            const width = 320;
            const height = 60;
            const padding = 5;
            
            const min = Math.min(...data);
            const max = Math.max(...data);
            const range = max - min || 1;
            
            const points = data.map((val, i) => {
                const x = (i / (data.length - 1)) * width;
                const y = height - padding - ((val - min) / range) * (height - padding * 2);
                return `${x},${y}`;
            });
            
            document.getElementById('chartLine').setAttribute('d', `M${points.join(' L')}`);
            document.getElementById('chartArea').setAttribute('d', `M0,${height} L${points.join(' L')} L${width},${height} Z`);
        }

        function initFeed() {
            const feeds = [
                { type: 'market', text: 'Ch·ªâ s·ªë VNINDEX tƒÉng 1.2% trong phi√™n s√°ng' },
                { type: 'news', text: 'ƒê·ªëi th·ªß XYZ Corp c√¥ng b·ªë k·∫ø ho·∫°ch IPO' },
                { type: 'alert', text: 'B√°o c√°o Q4 c·∫ßn ho√†n th√†nh trong 5 ng√†y' }
            ];
            
            const container = document.getElementById('feedContainer');
            container.innerHTML = feeds.map(feed => `
                <div class="feed-item">
                    <div class="feed-icon ${feed.type}">${feed.type === 'alert' ? '‚ö†Ô∏è' : feed.type === 'news' ? 'üì∞' : 'üìà'}</div>
                    <div class="feed-content">
                        <div class="feed-text">${feed.text}</div>
                        <div class="feed-time">V·ª´a xong</div>
                    </div>
                </div>
            `).join('');
        }

        function startGame() {
            const company = document.getElementById('companyInput').value || 'Nexus Technologies';
            const industry = document.getElementById('industrySelect').value || 'tech';
            
            state.company = company;
            state.industry = industry;
            
            document.getElementById('companyName').textContent = company;
            document.getElementById('stockSymbol').textContent = company.substring(0, 3).toUpperCase();
            
            document.getElementById('authOverlay').classList.add('hidden');
            renderScene();
        }

        function renderScene() {
            const scenario = scenarios[state.currentScenario];
            const char = scenario.character;
            
            document.getElementById('sceneCard').innerHTML = `
                <div class="scene-visual">
                    <svg viewBox="0 0 800 240" preserveAspectRatio="xMidYMid slice">
                        <defs>
                            <linearGradient id="skyGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#e0f2fe"/>
                                <stop offset="50%" style="stop-color:#f0f9ff"/>
                                <stop offset="100%" style="stop-color:#fef3c7"/>
                            </linearGradient>
                        </defs>
                        <rect fill="url(#skyGrad)" width="800" height="240"/>
                        <g fill="#e2e8f0" opacity="0.5">
                            <rect x="50" y="80" width="60" height="160"/>
                            <rect x="130" y="60" width="80" height="180"/>
                            <rect x="230" y="100" width="50" height="140"/>
                            <rect x="500" y="50" width="90" height="190"/>
                            <rect x="610" y="90" width="70" height="150"/>
                            <rect x="700" y="70" width="100" height="170"/>
                        </g>
                    </svg>
                    <div class="priority-tag">
                        <span class="priority-dot ${scenario.priority}"></span>
                        <span class="priority-text ${scenario.priority}">${scenario.priority === 'critical' ? 'Kh·∫©n c·∫•p' : scenario.priority === 'high' ? 'Quan tr·ªçng' : 'Th∆∞·ªùng'}</span>
                    </div>
                    <div class="character-container">
                        <div class="character-avatar">${char.emoji}</div>
                        <div class="character-info">
                            <div class="character-name">${char.name}</div>
                            <div class="character-role">${char.role}</div>
                        </div>
                    </div>
                </div>
                
                <div class="scene-content">
                    <h2 class="scene-title">${scenario.title}</h2>
                    <p class="scene-description">${scenario.description}</p>
                    
                    <div class="dialogue-container">
                        <div class="dialogue-speaker">
                            <div class="speaker-avatar">${char.emoji}</div>
                            <div class="speaker-name">${char.name}</div>
                        </div>
                        <p class="dialogue-text">${scenario.dialogue}</p>
                    </div>
                    
                    <div class="impact-preview">
                        <div class="impact-title">
                            <span>üìä</span> Ph√¢n t√≠ch t√°c ƒë·ªông
                        </div>
                        <div class="impact-grid">
                            ${scenario.impact.map(item => `
                                <div class="impact-item">
                                    <div class="impact-icon">${item.icon}</div>
                                    <div class="impact-label">${item.label}</div>
                                    <div class="impact-value ${item.class}">${item.value}</div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                    
                    <div class="decisions-grid">
                        ${scenario.decisions.map((dec, i) => `
                            <div class="decision-card ${dec.type}" onclick="makeDecision(${i})">
                                <div class="decision-header">
                                    <div class="decision-badge">${['A', 'B', 'C'][i]}</div>
                                    <div class="decision-info">
                                        <div class="decision-type">${dec.type === 'conservative' ? 'Th·∫≠n tr·ªçng' : dec.type === 'aggressive' ? 'M·∫°nh m·∫Ω' : 'Chi·∫øn l∆∞·ª£c'}</div>
                                        <div class="decision-title">${dec.title}</div>
                                    </div>
                                </div>
                                <p class="decision-desc">${dec.desc}</p>
                                <div class="decision-metrics">
                                    ${dec.metrics.map(m => `
                                        <div class="metric-item">
                                            <span class="metric-icon">${m.icon}</span>
                                            <span class="metric-value ${m.class}">${m.value}</span>
                                            <span>${m.label}</span>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
            
            // Update quarter progress
            const weekProgress = (state.week / 12) * 100;
            document.getElementById('quarterFill').style.width = `${weekProgress}%`;
            
            for (let i = 1; i <= 12; i++) {
                const dot = document.getElementById(`week${i}`);
                dot.classList.remove('active', 'completed');
                if (i < state.week) dot.classList.add('completed');
                else if (i === state.week) dot.classList.add('active');
            }
        }

        function makeDecision(index) {
            const scenario = scenarios[state.currentScenario];
            const decision = scenario.decisions[index];
            const result = decision.result;
            
            // Update icon based on result type
            const iconEl = document.getElementById('resultIcon');
            iconEl.className = `result-icon ${result.type}`;
            iconEl.textContent = result.type === 'success' ? '‚ú®' : result.type === 'warning' ? '‚ö†Ô∏è' : 'üíî';
            
            document.getElementById('resultTitle').textContent = result.title;
            document.getElementById('resultText').textContent = result.text;
            
            document.getElementById('resultChanges').innerHTML = result.changes.map(change => `
                <div class="result-change">
                    <div class="result-change-icon">${change.icon}</div>
                    <div class="result-change-value ${change.positive ? 'positive' : 'negative'}">${change.value}</div>
                    <div class="result-change-label">${change.label}</div>
                </div>
            `).join('');
            
            document.getElementById('resultOverlay').classList.add('active');
            
            // Update metrics
            result.changes.forEach(change => {
                if (change.label.includes('HƒêQT')) {
                    const val = parseInt(change.value);
                    state.boardTrust = Math.max(0, Math.min(100, state.boardTrust + val));
                    document.getElementById('boardTrustValue').textContent = `${state.boardTrust}%`;
                    document.getElementById('boardTrustBar').style.width = `${state.boardTrust}%`;
                }
            });
            
            // Add to feed
            addFeed('alert', `CEO ƒë√£ ƒë∆∞a ra quy·∫øt ƒë·ªãnh: ${decision.title}`);
        }

        function addFeed(type, text) {
            const container = document.getElementById('feedContainer');
            const item = document.createElement('div');
            item.className = 'feed-item';
            item.innerHTML = `
                <div class="feed-icon ${type}">${type === 'alert' ? '‚ö†Ô∏è' : type === 'news' ? 'üì∞' : 'üìà'}</div>
                <div class="feed-content">
                    <div class="feed-text">${text}</div>
                    <div class="feed-time">V·ª´a xong</div>
                </div>
            `;
            container.insertBefore(item, container.firstChild);
            if (container.children.length > 5) {
                container.removeChild(container.lastChild);
            }
        }

        function continueGame() {
            document.getElementById('resultOverlay').classList.remove('active');
            
            state.currentScenario++;
            state.week++;
            
            if (state.currentScenario >= scenarios.length) {
                state.currentScenario = 0;
                state.quarter++;
                state.week = 1;
            }
            
            document.getElementById('quarterLabel').textContent = `Q${state.quarter} 2025`;
            renderScene();
        }

        // Start
        init();
    </script>
</body>
</html>

