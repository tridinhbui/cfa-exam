<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CEO Story ‚Äî Visual Novel</title>
    <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@300;400;500;600;700&family=Playfair+Display:wght@500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --white: #ffffff;
            --cream: #faf9f7;
            --warm-gray: #f5f3f0;
            --soft-gray: #e8e6e3;
            --text-primary: #1a1a1a;
            --text-secondary: #6b6b6b;
            --text-muted: #9a9a9a;
            --accent-blue: #0066cc;
            --accent-coral: #ff6b6b;
            --accent-mint: #4ecdc4;
            --accent-gold: #f4a261;
            --shadow-soft: 0 4px 20px rgba(0, 0, 0, 0.05);
            --shadow-medium: 0 8px 40px rgba(0, 0, 0, 0.08);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Be Vietnam Pro', sans-serif;
            background: linear-gradient(135deg, var(--cream) 0%, var(--white) 50%, var(--warm-gray) 100%);
            color: var(--text-primary);
            min-height: 100vh;
            line-height: 1.7;
        }

        /* Sunlight Effect */
        .sunlight {
            position: fixed;
            top: -200px;
            right: -200px;
            width: 600px;
            height: 600px;
            background: radial-gradient(circle, rgba(255, 220, 100, 0.15) 0%, transparent 70%);
            pointer-events: none;
            z-index: 0;
            animation: sunlight-pulse 8s ease-in-out infinite;
        }

        @keyframes sunlight-pulse {
            0%, 100% { opacity: 0.8; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.1); }
        }

        /* Container */
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 40px 30px;
            position: relative;
            z-index: 1;
        }

        /* Header */
        .header {
            text-align: center;
            margin-bottom: 50px;
        }

        .logo {
            font-family: 'Playfair Display', serif;
            font-size: 2.2rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 8px;
            letter-spacing: -0.5px;
        }

        .tagline {
            font-size: 0.9rem;
            color: var(--text-muted);
            font-weight: 400;
        }

        /* Status Bar */
        .status-bar {
            display: flex;
            justify-content: center;
            gap: 40px;
            padding: 20px 40px;
            background: var(--white);
            border-radius: 16px;
            box-shadow: var(--shadow-soft);
            margin-bottom: 40px;
            flex-wrap: wrap;
        }

        .status-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .status-icon {
            font-size: 1.3rem;
        }

        .status-label {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .status-value {
            font-weight: 600;
            color: var(--text-primary);
        }

        .status-value.good { color: var(--accent-mint); }
        .status-value.warning { color: var(--accent-gold); }
        .status-value.danger { color: var(--accent-coral); }

        /* Scene Card */
        .scene-card {
            background: var(--white);
            border-radius: 24px;
            box-shadow: var(--shadow-medium);
            overflow: hidden;
            margin-bottom: 30px;
            animation: card-enter 0.6s ease;
        }

        @keyframes card-enter {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Scene Image */
        .scene-image {
            height: 280px;
            background: linear-gradient(135deg, #e8f4f8 0%, #f0f7fa 50%, #fdf8f3 100%);
            position: relative;
            overflow: hidden;
        }

        .scene-illustration {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 100%;
            display: flex;
            align-items: flex-end;
            justify-content: center;
            padding: 20px;
        }

        /* Office Background SVG */
        .office-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        /* Character Container */
        .character {
            position: relative;
            z-index: 2;
            text-align: center;
            animation: character-appear 0.8s ease 0.3s both;
        }

        @keyframes character-appear {
            from { opacity: 0; transform: translateY(20px) scale(0.95); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }

        .character-avatar {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: var(--white);
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3.5rem;
            margin: 0 auto 15px;
        }

        .character-name {
            font-family: 'Playfair Display', serif;
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .character-role {
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        /* Scene Description */
        .scene-description {
            padding: 35px 40px;
            border-bottom: 1px solid var(--soft-gray);
        }

        .scene-text {
            font-size: 1.05rem;
            color: var(--text-secondary);
            font-style: italic;
            line-height: 1.9;
        }

        .scene-text .highlight {
            color: var(--text-primary);
            font-weight: 500;
            font-style: normal;
        }

        /* Dialogue Section */
        .dialogue-section {
            padding: 35px 40px;
        }

        .dialogue-bubble {
            background: var(--warm-gray);
            border-radius: 20px;
            border-top-left-radius: 4px;
            padding: 25px 30px;
            margin-bottom: 25px;
            position: relative;
            animation: bubble-appear 0.5s ease 0.5s both;
        }

        @keyframes bubble-appear {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .dialogue-speaker {
            font-weight: 600;
            color: var(--accent-blue);
            margin-bottom: 10px;
            font-size: 0.9rem;
        }

        .dialogue-text {
            font-size: 1.1rem;
            color: var(--text-primary);
            line-height: 1.8;
        }

        .dialogue-text .emphasis {
            font-weight: 600;
        }

        /* CEO Response (You) */
        .ceo-status {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 20px;
            background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);
            border-radius: 16px;
            border: 1px dashed var(--soft-gray);
            margin-bottom: 25px;
            animation: fade-in 0.5s ease 0.7s both;
        }

        @keyframes fade-in {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .ceo-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--accent-blue), #4a90d9);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }

        .ceo-action {
            flex: 1;
            font-size: 0.95rem;
            color: var(--text-secondary);
            font-style: italic;
        }

        /* Choices */
        .choices-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
            animation: choices-appear 0.6s ease 0.9s both;
        }

        @keyframes choices-appear {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .choice-btn {
            padding: 22px 28px;
            background: var(--white);
            border: 2px solid var(--soft-gray);
            border-radius: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
            display: flex;
            align-items: flex-start;
            gap: 18px;
        }

        .choice-btn:hover {
            transform: translateX(8px);
            box-shadow: var(--shadow-soft);
        }

        .choice-btn.friendly:hover {
            border-color: var(--accent-mint);
            background: linear-gradient(135deg, #f0faf9 0%, var(--white) 100%);
        }

        .choice-btn.firm:hover {
            border-color: var(--accent-coral);
            background: linear-gradient(135deg, #fff5f5 0%, var(--white) 100%);
        }

        .choice-btn.creative:hover {
            border-color: var(--accent-gold);
            background: linear-gradient(135deg, #fffaf0 0%, var(--white) 100%);
        }

        .choice-letter {
            width: 36px;
            height: 36px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.9rem;
            flex-shrink: 0;
        }

        .choice-btn.friendly .choice-letter {
            background: rgba(78, 205, 196, 0.15);
            color: var(--accent-mint);
        }

        .choice-btn.firm .choice-letter {
            background: rgba(255, 107, 107, 0.15);
            color: var(--accent-coral);
        }

        .choice-btn.creative .choice-letter {
            background: rgba(244, 162, 97, 0.15);
            color: var(--accent-gold);
        }

        .choice-content {
            flex: 1;
        }

        .choice-title {
            font-weight: 600;
            font-size: 1rem;
            margin-bottom: 5px;
            color: var(--text-primary);
        }

        .choice-desc {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Authentication Screen */
        .auth-screen {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 80vh;
            text-align: center;
        }

        .auth-card {
            background: var(--white);
            border-radius: 24px;
            box-shadow: var(--shadow-medium);
            padding: 60px;
            max-width: 500px;
            width: 100%;
        }

        .auth-greeting {
            font-family: 'Playfair Display', serif;
            font-size: 1.8rem;
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--text-primary);
        }

        .auth-question {
            font-size: 1.1rem;
            color: var(--text-secondary);
            margin-bottom: 40px;
            line-height: 1.7;
        }

        .vest-options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 30px;
        }

        .vest-btn {
            padding: 20px;
            border: 2px solid var(--soft-gray);
            border-radius: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: var(--white);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }

        .vest-btn:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-soft);
        }

        .vest-btn.selected {
            border-color: var(--accent-blue);
            background: linear-gradient(135deg, #f0f7ff 0%, var(--white) 100%);
        }

        .vest-color {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .vest-color.navy { background: linear-gradient(135deg, #1e3a5f, #2c5282); }
        .vest-color.charcoal { background: linear-gradient(135deg, #374151, #4b5563); }
        .vest-color.burgundy { background: linear-gradient(135deg, #7f1d1d, #991b1b); }
        .vest-color.cream { background: linear-gradient(135deg, #f5f5dc, #fffef0); border: 1px solid var(--soft-gray); }

        .vest-name {
            font-weight: 500;
            font-size: 0.9rem;
            color: var(--text-primary);
        }

        .start-btn {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, var(--accent-blue), #4a90d9);
            border: none;
            border-radius: 14px;
            color: white;
            font-family: 'Be Vietnam Pro', sans-serif;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .start-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(0, 102, 204, 0.3);
        }

        .start-btn:disabled {
            background: var(--soft-gray);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        /* Result Modal */
        .result-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.95);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            backdrop-filter: blur(10px);
        }

        .result-overlay.active {
            display: flex;
        }

        .result-card {
            background: var(--white);
            border-radius: 24px;
            box-shadow: var(--shadow-medium);
            padding: 50px;
            max-width: 500px;
            text-align: center;
            animation: result-appear 0.5s ease;
        }

        @keyframes result-appear {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }

        .result-emoji {
            font-size: 4rem;
            margin-bottom: 20px;
        }

        .result-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 15px;
        }

        .result-text {
            font-size: 1rem;
            color: var(--text-secondary);
            line-height: 1.8;
            margin-bottom: 30px;
        }

        .continue-btn {
            padding: 16px 40px;
            background: linear-gradient(135deg, var(--accent-blue), #4a90d9);
            border: none;
            border-radius: 12px;
            color: white;
            font-family: 'Be Vietnam Pro', sans-serif;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .continue-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(0, 102, 204, 0.3);
        }

        /* Hidden */
        .hidden { display: none !important; }

        /* Responsive */
        @media (max-width: 768px) {
            .container { padding: 20px; }
            .status-bar { gap: 20px; padding: 15px 20px; }
            .scene-description, .dialogue-section { padding: 25px; }
            .auth-card { padding: 40px 30px; }
            .vest-options { grid-template-columns: repeat(2, 1fr); gap: 10px; }
        }
    </style>
</head>
<body>
    <!-- Sunlight Effect -->
    <div class="sunlight"></div>

    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1 class="logo">CEO Story</h1>
            <p class="tagline">C√¢u chuy·ªán c·ªßa m·ªôt CEO tr·∫ª</p>
        </header>

        <!-- Authentication Screen -->
        <div class="auth-screen" id="authScreen">
            <div class="auth-card">
                <h2 class="auth-greeting">‚òÄÔ∏è Ch√†o bu·ªïi s√°ng!</h2>
                <p class="auth-question">
                    Xin ch√†o CEO, h√¥m nay ng√†i mu·ªën m·∫∑c b·ªô vest m√†u g√¨ ƒë·ªÉ ƒëi g·∫∑p H·ªôi ƒê·ªìng Qu·∫£n Tr·ªã?
                </p>
                
                <div class="vest-options" id="vestOptions">
                    <div class="vest-btn" data-color="navy" onclick="selectVest(this)">
                        <div class="vest-color navy"></div>
                        <span class="vest-name">Navy Blue</span>
                    </div>
                    <div class="vest-btn" data-color="charcoal" onclick="selectVest(this)">
                        <div class="vest-color charcoal"></div>
                        <span class="vest-name">Charcoal</span>
                    </div>
                    <div class="vest-btn" data-color="burgundy" onclick="selectVest(this)">
                        <div class="vest-color burgundy"></div>
                        <span class="vest-name">Burgundy</span>
                    </div>
                    <div class="vest-btn" data-color="cream" onclick="selectVest(this)">
                        <div class="vest-color cream"></div>
                        <span class="vest-name">Cream White</span>
                    </div>
                </div>
                
                <button class="start-btn" id="startBtn" disabled onclick="startGame()">
                    B·∫Øt ƒë·∫ßu ng√†y l√†m vi·ªác ‚Üí
                </button>
            </div>
        </div>

        <!-- Game Screen -->
        <div class="game-screen hidden" id="gameScreen">
            <!-- Status Bar -->
            <div class="status-bar" id="statusBar">
                <div class="status-item">
                    <span class="status-icon">‚òÄÔ∏è</span>
                    <span class="status-label">Ng√†y:</span>
                    <span class="status-value" id="dayValue">Th·ª© Hai</span>
                </div>
                <div class="status-item">
                    <span class="status-icon">üí∞</span>
                    <span class="status-label">Ng√¢n s√°ch:</span>
                    <span class="status-value good" id="budgetValue">·ªîn ƒë·ªãnh</span>
                </div>
                <div class="status-item">
                    <span class="status-icon">‚ù§Ô∏è</span>
                    <span class="status-label">L√≤ng tin HƒêQT:</span>
                    <span class="status-value good" id="trustValue">Cao</span>
                </div>
            </div>

            <!-- Scene Card -->
            <div class="scene-card" id="sceneCard">
                <!-- Content will be rendered dynamically -->
            </div>
        </div>
    </div>

    <!-- Result Overlay -->
    <div class="result-overlay" id="resultOverlay">
        <div class="result-card">
            <div class="result-emoji" id="resultEmoji">‚ú®</div>
            <h3 class="result-title" id="resultTitle">K·∫øt qu·∫£</h3>
            <p class="result-text" id="resultText"></p>
            <button class="continue-btn" onclick="continueGame()">Ti·∫øp t·ª•c ‚Üí</button>
        </div>
    </div>

    <script>
        // Game State
        const gameState = {
            vestColor: null,
            day: 1,
            budget: 'good', // good, warning, danger
            trust: 'good',  // good, warning, danger
            currentScene: 0
        };

        // Characters
        const characters = {
            sarah: { name: 'Sarah', role: 'CFO - Gi√°m ƒë·ªëc T√†i ch√≠nh', emoji: 'üë©‚Äçüíº' },
            mark: { name: 'Mark', role: 'CTO - Gi√°m ƒë·ªëc C√¥ng ngh·ªá', emoji: 'üë®‚Äçüíª' },
            robert: { name: '√îng Robert', role: 'Ch·ªß t·ªãch HƒêQT', emoji: 'üë¥' },
            ceo: { name: 'B·∫°n', role: 'CEO', emoji: 'üòé' }
        };

        // Scenarios
        const scenarios = [
            {
                scene: `√Ånh n·∫Øng bu·ªïi s√°ng tr√†n qua nh·ªØng t·∫•m k√≠nh l·ªõn c·ªßa vƒÉn ph√≤ng CEO. Th√†nh ph·ªë nh·ªôn nh·ªãp b√™n d∆∞·ªõi, xe c·ªô nh∆∞ nh·ªØng ch·∫•m nh·ªè di chuy·ªÉn. B·∫°n v·ª´a ng·ªìi xu·ªëng chi·∫øc gh·∫ø da √™m √°i th√¨ <span class="highlight">c√°nh c·ª≠a b·∫≠t m·ªü</span>.`,
                ceoAction: `B·∫°n ƒëang thong th·∫£ nh·∫•p ng·ª•m c√† ph√™ s√°ng, t·∫≠n h∆∞·ªüng v√†i ph√∫t y√™n b√¨nh hi·∫øm hoi...`,
                character: 'sarah',
                dialogue: `CEO! T√¥i c·∫ßn n√≥i chuy·ªán v·ªõi ng√†i <span class="emphasis">ngay b√¢y gi·ªù</span>. H·ªôi ƒë·ªìng qu·∫£n tr·ªã v·ª´a y√™u c·∫ßu ch√∫ng ta ph·∫£i c·∫Øt gi·∫£m 15% chi ph√≠ v·∫≠n h√†nh trong qu√Ω n√†y. H·ªç n√≥i n·∫øu kh√¥ng, h·ªç s·∫Ω... *ƒë·∫©y k√≠nh l√™n, th·ªü d√†i* ...h·ªç s·∫Ω xem x√©t l·∫°i v·ªã tr√≠ c·ªßa ng√†i.`,
                choices: [
                    {
                        type: 'friendly',
                        title: 'Th√¢n thi·ªán ‚Äî Tr·∫•n an Sarah',
                        desc: '"Sarah, b√¨nh tƒ©nh ƒëi. Ng·ªìi xu·ªëng, u·ªëng c√† ph√™ c√πng t√¥i. Ch√∫ng ta s·∫Ω t√¨m ra c√°ch."',
                        result: {
                            emoji: '‚òï',
                            title: 'Sarah h∆°i d·ªãu l·∫°i...',
                            text: 'C√¥ ·∫•y ng·ªìi xu·ªëng, nh∆∞ng v·∫´n b·∫•m m√°y t√≠nh li√™n t·ª•c. "ƒê∆∞·ª£c r·ªìi... nh∆∞ng ng√†i ph·∫£i c√≥ k·∫ø ho·∫°ch g√¨ ƒë√≥, ƒë√∫ng kh√¥ng?" L√≤ng tin c·ªßa Sarah v·ªõi b·∫°n tƒÉng nh·∫π.',
                            trustChange: 0,
                            budgetChange: 0
                        }
                    },
                    {
                        type: 'firm',
                        title: 'C·ª©ng r·∫Øn ‚Äî ƒê·∫∑t c√¢u h·ªèi ng∆∞·ª£c',
                        desc: '"15%? H·ªç l·∫•y con s·ªë ƒë√≥ t·ª´ ƒë√¢u? T√¥i c·∫ßn b√°o c√°o chi ti·∫øt tr∆∞·ªõc khi ƒë∆∞a ra b·∫•t k·ª≥ quy·∫øt ƒë·ªãnh n√†o."',
                        result: {
                            emoji: 'üìä',
                            title: 'Sarah h∆°i b·∫•t ng·ªù...',
                            text: 'C√¥ ·∫•y l·∫≠t v·ªôi t·∫≠p t√†i li·ªáu. "√Ä... th·ª±c ra... t√¥i ch∆∞a c√≥ con s·ªë c·ª• th·ªÉ." B·∫°n ƒë√£ th·ªÉ hi·ªán s·ª± chuy√™n nghi·ªáp. HƒêQT s·∫Ω ph·∫£i ch·ªù.',
                            trustChange: 1,
                            budgetChange: 0
                        }
                    },
                    {
                        type: 'creative',
                        title: 'S√°ng t·∫°o ‚Äî ƒê·ªÅ xu·∫•t b·∫•t ng·ªù',
                        desc: '"Thay v√¨ c·∫Øt gi·∫£m, sao ch√∫ng ta kh√¥ng... tƒÉng doanh thu? T√¥i c√≥ m·ªôt √Ω t∆∞·ªüng ƒëi√™n r·ªì."',
                        result: {
                            emoji: 'üí°',
                            title: 'Sarah nh∆∞·ªõn m√†y...',
                            text: '"√ù t∆∞·ªüng ƒëi√™n r·ªì?" M·∫Øt c√¥ ·∫•y s√°ng l√™n m·ªôt ch√∫t. "Ng√†i l√†m t√¥i t√≤ m√≤ ƒë·∫•y, CEO." ƒê√¢y l√† m·ªôt canh b·∫°c ‚Äî nh∆∞ng c√≥ th·ªÉ thay ƒë·ªïi c·ª•c di·ªán.',
                            trustChange: 0,
                            budgetChange: -1
                        }
                    }
                ]
            },
            {
                scene: `Ph√≤ng h·ªçp k√≠nh trong su·ªët, view 360 ƒë·ªô nh√¨n ra th√†nh ph·ªë. M√†n h√¨nh LED kh·ªïng l·ªì hi·ªÉn th·ªã bi·ªÉu ƒë·ªì l√™n xu·ªëng nh∆∞ nh·ªãp tim. <span class="highlight">Mark b∆∞·ªõc v√†o</span>, tay c·∫ßm laptop, √°o hoodie ƒëen v·ªõi logo startup c≈©.`,
                ceoAction: `B·∫°n ƒëang xem l·∫°i email t·ª´ ƒë·ªëi t√°c khi c·∫£m nh·∫≠n s·ª± hi·ªán di·ªán c·ªßa ai ƒë√≥...`,
                character: 'mark',
                dialogue: `Boss... *g√£i ƒë·∫ßu* ...em c√≥ tin t·ªët v√† tin x·∫•u. Tin t·ªët l√† h·ªá th·ªëng AI m·ªõi ho·∫°t ƒë·ªông <span class="emphasis">ho√†n h·∫£o</span>. Tin x·∫•u l√†... n√≥ ho√†n h·∫£o ƒë·∫øn m·ª©c c√≥ th·ªÉ thay th·∫ø 200 nh√¢n vi√™n b·ªô ph·∫≠n v·∫≠n h√†nh. Em kh√¥ng bi·∫øt n√™n... vui hay bu·ªìn n·ªØa.`,
                choices: [
                    {
                        type: 'friendly',
                        title: 'Th√¢n thi·ªán ‚Äî ƒê·ªìng c·∫£m v·ªõi Mark',
                        desc: '"ƒê√≥ l√† ti·∫øn b·ªô c√¥ng ngh·ªá, Mark. Nh∆∞ng con ng∆∞·ªùi v·∫´n l√† tr√°i tim c·ªßa c√¥ng ty. Ch√∫ng ta s·∫Ω ƒë√†o t·∫°o l·∫°i h·ªç."',
                        result: {
                            emoji: 'ü§ù',
                            title: 'Mark m·ªâm c∆∞·ªùi nh·∫π nh√µm...',
                            text: '"Em th√≠ch c√°ch boss nghƒ©," Mark n√≥i, c√≥ v·∫ª y√™n t√¢m h∆°n. Quy·∫øt ƒë·ªãnh n√†y s·∫Ω t·ªën th√™m ng√¢n s√°ch ƒë√†o t·∫°o, nh∆∞ng gi·ªØ ƒë∆∞·ª£c l√≤ng tin t·ª´ nh√¢n vi√™n.',
                            trustChange: 1,
                            budgetChange: -1
                        }
                    },
                    {
                        type: 'firm',
                        title: 'C·ª©ng r·∫Øn ‚Äî Quy·∫øt ƒë·ªãnh l·∫°nh l√πng',
                        desc: '"200 ng∆∞·ªùi l√† m·ªôt con s·ªë l·ªõn. Chu·∫©n b·ªã k·∫ø ho·∫°ch t√°i c∆° c·∫•u. ƒê√¢y l√† kinh doanh, kh√¥ng ph·∫£i t·ª´ thi·ªán."',
                        result: {
                            emoji: 'üìâ',
                            title: 'Mark im l·∫∑ng m·ªôt l√∫c...',
                            text: 'Anh ta g·∫≠t ƒë·∫ßu ch·∫≠m r√£i, nh∆∞ng √°nh m·∫Øt c√≥ ch√∫t th·∫•t v·ªçng. Ng√¢n s√°ch s·∫Ω ƒë∆∞·ª£c c·∫£i thi·ªán ƒë√°ng k·ªÉ, nh∆∞ng tin ƒë·ªìn b·∫Øt ƒë·∫ßu lan ra...',
                            trustChange: -1,
                            budgetChange: 2
                        }
                    },
                    {
                        type: 'creative',
                        title: 'S√°ng t·∫°o ‚Äî Spin-off startup',
                        desc: '"200 ng∆∞·ªùi + AI = m·ªôt startup m·ªõi. H·ªç s·∫Ω v·∫≠n h√†nh c√¥ng ty con, ch√∫ng ta gi·ªØ 60% c·ªï ph·∫ßn."',
                        result: {
                            emoji: 'üöÄ',
                            title: 'M·∫Øt Mark s√°ng b·ª´ng!',
                            text: '"Wait, ƒë√≥ l√†... thi√™n t√†i!" Mark g√µ ph√≠m li√™n t·ª•c. ƒê√¢y l√† m·ªôt canh b·∫°c l·ªõn ‚Äî c√≥ th·ªÉ th√†nh c√¥ng vang d·ªôi ho·∫∑c th·∫•t b·∫°i th·∫£m h·∫°i.',
                            trustChange: 0,
                            budgetChange: 0
                        }
                    }
                ]
            },
            {
                scene: `VƒÉn ph√≤ng c·ªßa √¥ng Robert ‚Äî phong c√°ch c·ªï ƒëi·ªÉn, ƒë·ªì g·ªó s·ªìi, m√πi cigar thoang tho·∫£ng. N·∫Øng chi·ªÅu xi√™n qua r√®m v·∫£i, r·ªçi l√™n b·ª©c tranh s∆°n d·∫ßu. <span class="highlight">√îng Robert ƒëang ƒë·ª©ng nh√¨n qua c·ª≠a s·ªï</span>.`,
                ceoAction: `B·∫°n b∆∞·ªõc v√†o, c·∫£m nh·∫≠n kh√¥ng kh√≠ n·∫∑ng n·ªÅ. ƒê√¢y l√† cu·ªôc g·∫∑p m·∫∑t ƒë·ªëi m·∫∑t m√† b·∫°n ƒë√£ d·ª± ƒëo√°n tr∆∞·ªõc...`,
                character: 'robert',
                dialogue: `*quay l·∫°i, tay v·∫´n ch·∫Øp sau l∆∞ng* C·∫≠u b√© √†... Ta ƒë√£ theo d√µi nh·ªØng quy·∫øt ƒë·ªãnh c·ªßa c·∫≠u g·∫ßn ƒë√¢y. C√≥ ng∆∞·ªùi n√≥i c·∫≠u <span class="emphasis">qu√° m·∫°o hi·ªÉm</span>. C√≥ ng∆∞·ªùi n√≥i c·∫≠u <span class="emphasis">qu√° th·∫≠n tr·ªçng</span>. *nh·∫•p whisky* C√≤n ta... ta mu·ªën nghe t·ª´ ch√≠nh c·∫≠u. T·∫°i sao ta n√™n ti·∫øp t·ª•c tin t∆∞·ªüng c·∫≠u?`,
                choices: [
                    {
                        type: 'friendly',
                        title: 'Khi√™m t·ªën ‚Äî Th·ª´a nh·∫≠n v√† h·ªçc h·ªèi',
                        desc: '"Th∆∞a √¥ng, t√¥i v·∫´n ƒëang h·ªçc. Nh∆∞ng m·ªçi quy·∫øt ƒë·ªãnh c·ªßa t√¥i ƒë·ªÅu v√¨ t∆∞∆°ng lai c·ªßa c√¥ng ty."',
                        result: {
                            emoji: 'üôè',
                            title: '√îng Robert g·∫≠t ƒë·∫ßu ch·∫≠m r√£i...',
                            text: '"Khi√™m t·ªën... t·ªët l·∫Øm." √îng ƒë·∫∑t ly whisky xu·ªëng. "Nh∆∞ng th·ªã tr∆∞·ªùng kh√¥ng ch·ªù ng∆∞·ªùi khi√™m t·ªën, c·∫≠u b√©. L·∫ßn sau, h√£y t·ª± tin h∆°n."',
                            trustChange: 0,
                            budgetChange: 0
                        }
                    },
                    {
                        type: 'firm',
                        title: 'T·ª± tin ‚Äî ƒê∆∞a ra con s·ªë',
                        desc: '"V√¨ d∆∞·ªõi th·ªùi t√¥i, c·ªï phi·∫øu tƒÉng 23%. Doanh thu tƒÉng 18%. ƒê√≥ l√† l√Ω do, th∆∞a √¥ng."',
                        result: {
                            emoji: 'üìà',
                            title: 'M·ªôt n·ª• c∆∞·ªùi tho√°ng qua...',
                            text: '√îng Robert r√≥t th√™m m·ªôt ly whisky v√† ƒë∆∞a cho b·∫°n. "ƒê∆∞·ª£c l·∫Øm. C·∫≠u c√≥ x∆∞∆°ng s·ªëng." L√≤ng tin HƒêQT tƒÉng ƒë√°ng k·ªÉ.',
                            trustChange: 2,
                            budgetChange: 0
                        }
                    },
                    {
                        type: 'creative',
                        title: 'B·∫•t ng·ªù ‚Äî ƒê·∫∑t c√¢u h·ªèi ng∆∞·ª£c',
                        desc: '"Th∆∞a √¥ng... t·∫°i sao √¥ng l·∫°i h·ªèi? √îng ƒëang nghi ng·ªù, hay ƒëang t√¨m ng∆∞·ªùi k·∫ø nhi·ªám?"',
                        result: {
                            emoji: 'üòè',
                            title: '√îng Robert c∆∞·ªùi l·ªõn!',
                            text: '"Ha! C·∫≠u n√†y gan th·∫≠t." √îng v·ªó vai b·∫°n. "Ta th√≠ch nh·ªØng ng∆∞·ªùi d√°m ƒë·∫∑t c√¢u h·ªèi kh√≥. C√≥ l·∫Ω... c·∫≠u s·∫Ω c√≤n ƒëi xa." M·ªôt canh b·∫°c t√°o b·∫°o ƒë√£ ƒë∆∞·ª£c ƒë·ªÅn ƒë√°p.',
                            trustChange: 1,
                            budgetChange: 1
                        }
                    }
                ]
            }
        ];

        // Day names
        const days = ['Th·ª© Hai', 'Th·ª© Ba', 'Th·ª© T∆∞', 'Th·ª© NƒÉm', 'Th·ª© S√°u'];

        // Select vest
        function selectVest(element) {
            document.querySelectorAll('.vest-btn').forEach(btn => btn.classList.remove('selected'));
            element.classList.add('selected');
            gameState.vestColor = element.dataset.color;
            document.getElementById('startBtn').disabled = false;
        }

        // Start game
        function startGame() {
            document.getElementById('authScreen').classList.add('hidden');
            document.getElementById('gameScreen').classList.remove('hidden');
            renderScene();
        }

        // Render scene
        function renderScene() {
            const scenario = scenarios[gameState.currentScene];
            const char = characters[scenario.character];
            
            const sceneCard = document.getElementById('sceneCard');
            sceneCard.innerHTML = `
                <!-- Scene Image -->
                <div class="scene-image">
                    <svg class="office-bg" viewBox="0 0 900 280" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <!-- Sky gradient -->
                        <defs>
                            <linearGradient id="skyGrad" x1="0%" y1="0%" x2="0%" y2="100%">
                                <stop offset="0%" style="stop-color:#e8f4fc;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#f5f9fc;stop-opacity:1" />
                            </linearGradient>
                        </defs>
                        <rect width="900" height="280" fill="url(#skyGrad)"/>
                        
                        <!-- Window frame -->
                        <rect x="50" y="20" width="800" height="200" rx="8" fill="#f8fbfd" stroke="#e0e0e0" stroke-width="2"/>
                        <line x1="250" y1="20" x2="250" y2="220" stroke="#e0e0e0" stroke-width="1"/>
                        <line x1="450" y1="20" x2="450" y2="220" stroke="#e0e0e0" stroke-width="1"/>
                        <line x1="650" y1="20" x2="650" y2="220" stroke="#e0e0e0" stroke-width="1"/>
                        
                        <!-- City silhouette -->
                        <g fill="#d0dce5" opacity="0.6">
                            <rect x="80" y="140" width="40" height="80"/>
                            <rect x="130" y="100" width="50" height="120"/>
                            <rect x="190" y="160" width="35" height="60"/>
                            <rect x="280" y="80" width="60" height="140"/>
                            <rect x="350" y="120" width="45" height="100"/>
                            <rect x="480" y="70" width="70" height="150"/>
                            <rect x="560" y="130" width="40" height="90"/>
                            <rect x="620" y="90" width="55" height="130"/>
                            <rect x="700" y="150" width="45" height="70"/>
                            <rect x="760" y="110" width="60" height="110"/>
                        </g>
                        
                        <!-- Desk -->
                        <rect x="0" y="235" width="900" height="50" fill="#f0ebe5"/>
                        <rect x="100" y="240" width="200" height="8" rx="2" fill="#d4ccc4"/>
                        <circle cx="680" cy="250" r="15" fill="#8b4513" opacity="0.3"/>
                        <rect x="720" y="242" width="80" height="12" rx="2" fill="#e8e0d8"/>
                    </svg>
                    
                    <div class="scene-illustration">
                        <div class="character">
                            <div class="character-avatar">${char.emoji}</div>
                            <div class="character-name">${char.name}</div>
                            <div class="character-role">${char.role}</div>
                        </div>
                    </div>
                </div>

                <!-- Scene Description -->
                <div class="scene-description">
                    <p class="scene-text">${scenario.scene}</p>
                </div>

                <!-- Dialogue Section -->
                <div class="dialogue-section">
                    <!-- CEO Status -->
                    <div class="ceo-status">
                        <div class="ceo-avatar">üòé</div>
                        <div class="ceo-action">${scenario.ceoAction}</div>
                    </div>

                    <!-- Dialogue Bubble -->
                    <div class="dialogue-bubble">
                        <div class="dialogue-speaker">${char.name}:</div>
                        <div class="dialogue-text">${scenario.dialogue}</div>
                    </div>

                    <!-- Choices -->
                    <div class="choices-container">
                        ${scenario.choices.map((choice, index) => `
                            <div class="choice-btn ${choice.type}" onclick="makeChoice(${index})">
                                <div class="choice-letter">${['A', 'B', 'C'][index]}</div>
                                <div class="choice-content">
                                    <div class="choice-title">${choice.title}</div>
                                    <div class="choice-desc">${choice.desc}</div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
            
            // Update status bar
            document.getElementById('dayValue').textContent = days[gameState.day - 1] || 'Th·ª© S√°u';
        }

        // Make choice
        function makeChoice(index) {
            const scenario = scenarios[gameState.currentScene];
            const choice = scenario.choices[index];
            const result = choice.result;
            
            // Apply changes
            if (result.trustChange !== 0) {
                if (result.trustChange > 0) {
                    gameState.trust = gameState.trust === 'danger' ? 'warning' : 'good';
                } else {
                    gameState.trust = gameState.trust === 'good' ? 'warning' : 'danger';
                }
            }
            
            if (result.budgetChange !== 0) {
                if (result.budgetChange > 0) {
                    gameState.budget = gameState.budget === 'danger' ? 'warning' : 'good';
                } else {
                    gameState.budget = gameState.budget === 'good' ? 'warning' : 'danger';
                }
            }
            
            // Update UI
            const trustEl = document.getElementById('trustValue');
            const budgetEl = document.getElementById('budgetValue');
            
            trustEl.className = `status-value ${gameState.trust}`;
            trustEl.textContent = gameState.trust === 'good' ? 'Cao' : (gameState.trust === 'warning' ? 'Trung b√¨nh' : 'Th·∫•p');
            
            budgetEl.className = `status-value ${gameState.budget}`;
            budgetEl.textContent = gameState.budget === 'good' ? '·ªîn ƒë·ªãnh' : (gameState.budget === 'warning' ? 'C·∫ßn theo d√µi' : 'Th·∫•p');
            
            // Show result
            document.getElementById('resultEmoji').textContent = result.emoji;
            document.getElementById('resultTitle').textContent = result.title;
            document.getElementById('resultText').textContent = result.text;
            document.getElementById('resultOverlay').classList.add('active');
        }

        // Continue game
        function continueGame() {
            document.getElementById('resultOverlay').classList.remove('active');
            
            gameState.currentScene++;
            gameState.day++;
            
            if (gameState.currentScene >= scenarios.length) {
                // End game
                showEnding();
            } else {
                renderScene();
            }
        }

        // Show ending
        function showEnding() {
            let endingEmoji, endingTitle, endingText;
            
            if (gameState.trust === 'good' && gameState.budget !== 'danger') {
                endingEmoji = 'üèÜ';
                endingTitle = 'Th√†nh c√¥ng r·ª±c r·ª°!';
                endingText = 'B·∫°n ƒë√£ ch·ª©ng minh b·∫£n th√¢n l√† m·ªôt CEO xu·∫•t s·∫Øc. H·ªôi ƒë·ªìng qu·∫£n tr·ªã ho√†n to√†n tin t∆∞·ªüng, v√† c√¥ng ty ƒëang tr√™n ƒë√† ph√°t tri·ªÉn m·∫°nh m·∫Ω. √îng Robert m·ªâm c∆∞·ªùi: "T∆∞∆°ng lai thu·ªôc v·ªÅ c·∫≠u, CEO."';
            } else if (gameState.trust === 'danger') {
                endingEmoji = 'üò∞';
                endingTitle = 'Kh·ªüi ƒë·∫ßu kh√≥ khƒÉn...';
                endingText = 'L√≤ng tin c·ªßa H·ªôi ƒë·ªìng qu·∫£n tr·ªã ƒëang lung lay. Nh∆∞ng ƒë√¢y ch∆∞a ph·∫£i k·∫øt th√∫c ‚Äî m·ªói CEO vƒ© ƒë·∫°i ƒë·ªÅu t·ª´ng v·∫•p ng√£. C√¢u h·ªèi l√†: b·∫°n s·∫Ω ƒë·ª©ng d·∫≠y nh∆∞ th·∫ø n√†o?';
            } else {
                endingEmoji = 'üíº';
                endingTitle = 'Kh·ªüi ƒë·∫ßu v·ªØng ch·∫Øc';
                endingText = 'B·∫°n ƒë√£ v∆∞·ª£t qua tu·∫ßn ƒë·∫ßu ti√™n v·ªõi nh·ªØng quy·∫øt ƒë·ªãnh c√¢n b·∫±ng. √îng Robert g·∫≠t ƒë·∫ßu: "Ch∆∞a t·ªá, c·∫≠u b√©. Nh∆∞ng h√£y nh·ªõ ‚Äî nh·ªØng th·ª≠ th√°ch th·ª±c s·ª± v·∫´n c√≤n ·ªü ph√≠a tr∆∞·ªõc."';
            }
            
            document.getElementById('resultEmoji').textContent = endingEmoji;
            document.getElementById('resultTitle').textContent = endingTitle;
            document.getElementById('resultText').textContent = endingText;
            document.querySelector('.continue-btn').textContent = 'Ch∆°i l·∫°i';
            document.querySelector('.continue-btn').onclick = () => location.reload();
            document.getElementById('resultOverlay').classList.add('active');
        }
    </script>
</body>
</html>

